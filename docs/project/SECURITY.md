# 🔒 セキュリティポリシー

Memoripassのセキュリティに関する情報と、脆弱性を発見した場合の報告方法を説明します。

---

## サポートされるバージョン

現在、以下のバージョンがセキュリティアップデートの対象です：

| バージョン | サポート状況 |
| ------- | ---------- |
| 1.0.x (開発中) | ✅ サポート中 |

---

## 脆弱性の報告

セキュリティ上の問題を発見された場合は、以下の方法で報告してください。

### 報告方法

**⚠️ 公開Issueでは報告しないでください**

セキュリティ上の脆弱性は、公開Issueではなく、以下の方法で非公開で報告してください：

1. **GitHub Security Advisory**（推奨）
   - リポジトリの「Security」タブ
   - 「Report a vulnerability」をクリック
   - フォームに従って報告

2. **メール**（代替手段）
   - 件名: `[SECURITY] Memoripass Vulnerability Report`
   - 宛先: （GitHubプロフィールに記載のメールアドレス）

---

### 報告に含めるべき情報

以下の情報を含めていただけると、迅速な対応が可能です：

- **脆弱性の概要**: 問題の簡潔な説明
- **影響範囲**: どのコンポーネントに影響するか
- **再現手順**: 問題を再現する具体的な手順
- **攻撃シナリオ**: 実際の攻撃でどう悪用されるか
- **推奨される修正方法**（あれば）
- **発見者の情報**（クレジット希望の場合）

### 報告テンプレート

```markdown
## 脆弱性の概要
[問題の簡潔な説明]

## 影響範囲
- 影響を受けるコンポーネント: [例: CryptoManager]
- 影響を受けるバージョン: [例: 1.0.0]
- 深刻度: [Critical / High / Medium / Low]

## 再現手順
1. [手順1]
2. [手順2]
3. [手順3]

## 攻撃シナリオ
[攻撃者がこの脆弱性をどのように悪用できるか]

## 推奨される修正方法
[修正案があれば記載]

## 追加情報
[その他の関連情報]
```

---

## 対応プロセス

### タイムライン

| フェーズ | 期間 |
|---------|-----|
| 初期確認 | 24時間以内 |
| 詳細調査 | 3営業日以内 |
| 修正開発 | 深刻度に応じて1-14日 |
| パッチリリース | 修正完了後24時間以内 |
| 公開開示 | パッチリリース後30日 |

### 深刻度の定義

**Critical（緊急）**
- データの完全な漏洩
- リモートコード実行
- 暗号化の完全なバイパス

**対応**: 24時間以内に修正

---

**High（高）**
- 一部データの漏洩
- 認証のバイパス
- 権限昇格

**対応**: 3日以内に修正

---

**Medium（中）**
- サービス拒否攻撃
- 情報開示（センシティブでない）
- セキュリティ設定の不備

**対応**: 7日以内に修正

---

**Low（低）**
- 軽微な情報漏洩
- UI/UXのセキュリティ改善

**対応**: 14日以内に修正

---

## セキュリティのベストプラクティス

このプロジェクトは以下のセキュリティ基準に従っています：

### 暗号化

- ✅ AES-256-GCM（NIST推奨）
- ✅ SecureRandomによるIV生成
- ✅ StrongBox Keystore使用
- ❌ 独自暗号化アルゴリズム不使用

### 認証

- ✅ BiometricPrompt（クラス3）
- ✅ デバイスPIN/パターンフォールバック
- ✅ オートロック機能

### データ保護

- ✅ 完全オフライン動作
- ✅ センシティブデータのメモリ即座クリア
- ✅ FLAG_SECUREによる画面保護

### コードセキュリティ

- ✅ R8/ProGuard難読化
- ✅ ルート検出
- ✅ 静的解析ツール使用

---

## 既知の制限事項

以下は既知の制限事項であり、脆弱性ではありません：

### ルート化端末

- **制限**: ルート化された端末では完全なセキュリティを保証できません
- **対策**: 警告表示（実行は可能）

### エミュレータ

- **制限**: エミュレータはStrongBoxをサポートしません
- **対策**: 実機のみサポート

### マスター認証紛失

- **制限**: 生体認証設定を紛失すると、すべてのデータが復元不可能
- **対策**: ユーザー教育、定期的なバックアップ推奨

### 物理的攻撃

- **制限**: 端末の物理的盗難に対しては、暗号化で保護するのみ
- **対策**: Titan M2 + AES-256による強力な保護（数十年の解読時間）

---

## セキュリティ更新履歴

### 2026年2月
- プロジェクト開始
- セキュリティポリシー策定

---

## 謝辞

セキュリティ研究者の皆様のご協力に感謝します。

脆弱性を責任を持って報告してくださった方には、以下の形でクレジットします：

- リリースノートでの謝辞
- SECURITY.md の「貢献者」セクションへの記載

---

## 連絡先

セキュリティに関する一般的な質問は、[Issue](https://github.com/wafukarubonara-stack/memoripass/issues)で受け付けます。

脆弱性の報告は、上記の「報告方法」に従ってください。

---

**最終更新**: 2026年2月2日
